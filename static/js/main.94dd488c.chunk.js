(this.webpackJsonpsquares=this.webpackJsonpsquares||[]).push([[0],{16:function(t,e,n){t.exports={cell:"Cell_cell__2Y_Ns",withoutAnimation:"Cell_withoutAnimation__3ExHM",cellSide:"Cell_cellSide__3ke7A"}},24:function(t,e,n){t.exports=n(37)},29:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e);var r,i,a,o,c,u,s,l,p,f=n(0),h=n.n(f),w=n(9),m=n.n(w),v=(n(29),n(5)),b=n.n(v),d=n(10),y=n.n(d),x=n(16),g=n.n(x),O=n(8),j=n(6),_=n(3),E=n.n(_),k=n(19),C=n(20),S=n(4),I=(n(32),n(2)),M=n(11),z=n(12),A=(n(15),n(14)),L=b.a.maxCellSize,W=b.a.minCellSize,G=parseInt(L),P=parseInt(W),N=function(t){return new Promise((function(e){setTimeout(e,t)}))},q=function(){var t=window,e=t.innerHeight;return{viewportWidth:t.innerWidth,viewportHeight:e}},H=function(){var t=function(){var t=q();return t.viewportWidth>t.viewportHeight}();return{minColumns:t?8:7,minRows:t?7:8}},D=function(){return{MIN_CELL_SIZE:P,MAX_CELL_SIZE:G}},R=function(){return function(){var t=D().MIN_CELL_SIZE,e={minColumns:12,minRows:11},n=e.minColumns,r=e.minRows,i=q(),a=i.viewportHeight;return i.viewportWidth<=t*n||a<=t*r}()?H():{minColumns:12,minRows:11}},X=function(t){var e=t.viewportWidth,n=t.viewportHeight,r=D(),i=r.MIN_CELL_SIZE,a=r.MAX_CELL_SIZE,o=R(),c=o.minColumns,u=o.minRows,s=Math.min(n/u,e/c);return s<i&&(s=i),s>a&&(s=a),{columns:Math.min(Math.max(Math.round(e/s),c),45),rows:Math.min(Math.max(Math.round(n/s),u),30)}},Z=function(t){var e=t.columns,n=t.rows;return Object(M.a)({},Symbol.asyncIterator,Object(A.a)(E.a.mark((function t(){var r,i,a,o,c,u,s,l,p,f,h,w,m,v,b;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=[],i=0;i<n;i++)r.push(Array(e));a=-1,o=0,c=0,u=0,s=e,l=n,p={x:1,y:0},f=function(){return p.x},h=function(){return p.y},w=function t(){var e=a+f(),n=o+h();if(0===h()){if(c===s)return null;if(e>=s)return p={x:0,y:1},u++,t();if(e<c)return p={x:0,y:-1},l--,t()}if(0===f()){if(u===l)return null;if(n>=l)return p={x:-1,y:0},s--,t();if(n<u)return p={x:1,y:0},c++,t()}return{nextX:e,nextY:n}};case 4:if(m=w()){t.next=8;break}return t.abrupt("break",15);case 8:return v=m.nextX,b=m.nextY,a=v,o=b,t.next=13,{column:a,row:o};case 13:t.next=4;break;case 15:case"end":return t.stop()}}),t)}))))},Y=function(t,e,n){var r,i,a,o,c,u;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=!0,i=!1,s.prev=2,o=Object(z.a)(t);case 4:return s.next=6,E.a.awrap(o.next());case 6:return c=s.sent,r=c.done,s.next=10,E.a.awrap(c.value);case 10:if(u=s.sent,r){s.next=22;break}if(!n([u])){s.next=16;break}return s.abrupt("break",22);case 16:if(!(e>0)){s.next=19;break}return s.next=19,E.a.awrap(N(e));case 19:r=!0,s.next=4;break;case 22:s.next=28;break;case 24:s.prev=24,s.t0=s.catch(2),i=!0,a=s.t0;case 28:if(s.prev=28,s.prev=29,r||null==o.return){s.next=33;break}return s.next=33,E.a.awrap(o.return());case 33:if(s.prev=33,!i){s.next=36;break}throw a;case 36:return s.finish(33);case 37:return s.finish(28);case 38:case"end":return s.stop()}}),null,null,[[2,24,28,38],[29,,33,37]])},B=n(21),J=function(t){return t[function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e-.5+Math.random()*(t-e+1);return Math.round(n)}(t.length-1)]},T=n(23),$=function(){var t=new Map,e=function(e){var n=t.get(e);if(n)return n;var r=T.a.search(e).map((function(t){return t.native}));return t.set(e,r),r};return function(t){return J(t.map(e).flat())}}();!function(t){t[t.initial=0]="initial",t[t.application=1]="application",t[t.snake=2]="snake"}(p||(p={}));var F=(r=I.l.struct,i=function(){function t(){var e=this;Object(k.a)(this,t),Object(j.a)(this,"columns",a,this),Object(j.a)(this,"rows",o,this),Object(j.a)(this,"viewportSize",c,this),Object(j.a)(this,"view",u,this),Object(j.a)(this,"grid",s,this),Object(j.a)(this,"cells",l,this),this.initialAnimationWasShown=!1,this.init(),window.addEventListener("resize",Object(B.debounce)((function(){e.viewportSize=q()}),500)),Object(I.m)((function(){return e.viewportSize}),(function(){e.init()}))}return Object(C.a)(t,[{key:"initGrid",value:function(){var t=[];this.cells.clear();for(var e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++){var r="".concat(e,"-").concat(n);t[e].push(r),this.cells.set(r,{content:null})}}this.grid=t}},{key:"init",value:function(){var t,e,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=X(this.viewportSize),e=t.columns,n=t.rows,this.columns=e,this.rows=n,this.initGrid(),this.initialAnimationWasShown){r.next=7;break}return r.next=7,E.a.awrap(this.showInitialAnimation());case 7:case"end":return r.stop()}}),null,this)}},{key:"showInitialAnimation",value:function(){var t,e,n,r,i,a,o,c,u,s=this;return E.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=3e3/this.square,l.next=3,E.a.awrap(N(1e3));case 3:return e=this.columns,n=this.rows,r=this.grid,i=Z({columns:e,rows:n}),l.next=6,E.a.awrap(Y(i,t,(function(t){return t.forEach((function(t){var e=t.column,n=t.row,i=r[n][e],a=s.getCell(i);a&&(a.content=$(["winter","christmas","santa","gift","family"]))})),!1})));case 6:return this.initialAnimationWasShown=!0,a=this.columns,o=this.rows,c=this.grid,u=Z({columns:a,rows:o}),l.next=10,E.a.awrap(Y(u,t,(function(t){return t.forEach((function(t){var e=t.column,n=t.row,r=c[n][e],i=s.getCell(r);i&&(i.content=null)})),!1})));case 10:this.showInitialAnimation();case 11:case"end":return l.stop()}}),null,this)}},{key:"getCell",value:function(t){return this.cells.get(t)}},{key:"square",get:function(){return this.columns*this.rows}}]),t}(),a=Object(S.a)(i.prototype,"columns",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=Object(S.a)(i.prototype,"rows",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=Object(S.a)(i.prototype,"viewportSize",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q()}}),u=Object(S.a)(i.prototype,"view",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.initial}}),s=Object(S.a)(i.prototype,"grid",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=Object(S.a)(i.prototype,"cells",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(S.a)(i.prototype,"initGrid",[I.d],Object.getOwnPropertyDescriptor(i.prototype,"initGrid"),i.prototype),Object(S.a)(i.prototype,"init",[I.d],Object.getOwnPropertyDescriptor(i.prototype,"init"),i.prototype),Object(S.a)(i.prototype,"showInitialAnimation",[I.d],Object.getOwnPropertyDescriptor(i.prototype,"showInitialAnimation"),i.prototype),Object(S.a)(i.prototype,"square",[I.e],Object.getOwnPropertyDescriptor(i.prototype,"square"),i.prototype),Object(S.a)(i.prototype,"getCell",[function(t,e,n){return{configurable:!0,get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}}}],Object.getOwnPropertyDescriptor(i.prototype,"getCell"),i.prototype),i),K=function(){return new F},Q=h.a.createContext(null),U=function(t){var e=t.children,n=Object(O.b)(K);return h.a.createElement(Q.Provider,{value:n},e)},V=function(){var t=h.a.useContext(Q);if(!t)throw new Error("useGrid must be used within a GridProvider.");return t},tt=Object(O.a)((function(t){var e=t.id,n=(0,V().getCell)(e);if(!n)return null;var r=n.content;return h.a.createElement("div",{className:y()(g.a.cell,g.a.isText)},r)})),et=Object(O.a)((function(){var t=V().grid;return h.a.createElement("div",{className:b.a.grid},t.map((function(t,e){return h.a.createElement(nt,{key:e},t.map((function(t,e){return h.a.createElement(rt,{key:e},h.a.createElement(tt,{id:t}))})))})))})),nt=function(t){var e=t.children;return h.a.createElement("div",{className:b.a.row},e)},rt=function(t){var e=t.children;return h.a.createElement("div",{className:y()(b.a.col)},e)},it=et,at=n(22),ot=function(t){return function(e){var n=Object(at.a)({},e);return h.a.createElement(U,null,h.a.createElement(t,n))}}(it),ct=function(){return h.a.createElement(ot,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(h.a.createElement(ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},5:function(t,e,n){t.exports={minCellSize:"40px",maxCellSize:"100px",grid:"Grid_grid__24j1p",row:"Grid_row__2rajf",col:"Grid_col__1SX7O"}}},[[24,1,2]]]);
//# sourceMappingURL=main.94dd488c.chunk.js.map