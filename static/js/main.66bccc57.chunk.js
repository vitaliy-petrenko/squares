(this.webpackJsonpsquares=this.webpackJsonpsquares||[]).push([[0],{28:function(e,t,n){e.exports=n(41)},33:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,i,a,o,c,u,s,l,f,m,p,h=n(0),w=n.n(h),b=n(13),v=n.n(b),y=(n(33),n(7)),d=n.n(y),x=n(14),j=n.n(x),g=n(8),O=n.n(g),E=n(12),k=n(3),_=n.n(k),C=n(6),A=n(5),M=n(15),P=n(4),S=(n(36),n(2)),W=n(23),I=n(9),z=n(17),R=(n(22),n(16)),L=n(10),q=d.a.maxCellSize,G=d.a.minCellSize,H=parseInt(q),N=parseInt(G),D=function(e){return new Promise((function(t){setTimeout(t,e)}))},T=function(){var e=window,t=e.innerHeight;return{viewportWidth:e.innerWidth,viewportHeight:t}},X=function(){var e=T();return e.viewportWidth>e.viewportHeight},Z=function(){var e=Y().MIN_CELL_SIZE,t=B(),n=t.minColumns,r=t.minRows,i=T(),a=i.viewportHeight;return i.viewportWidth<=e*n||a<=e*r},B=function(){return{minColumns:12,minRows:11}},Y=function(){return{MIN_CELL_SIZE:N,MAX_CELL_SIZE:H}},J=function(){return Z()?function(){var e=X();return{minColumns:e?8:7,minRows:e?7:8}}():B()},F=function(e){var t=e.viewportWidth,n=e.viewportHeight,r=Y(),i=r.MIN_CELL_SIZE,a=r.MAX_CELL_SIZE,o=J(),c=o.minColumns,u=o.minRows,s=Math.min(n/u,t/c);s<i&&(s=i),s>a&&(s=a);var l=Math.round(t/s),f=Math.round(n/s);return l>=25?l=25:l<=c?l=c:l%2||l++,f>=25?f=25:f<=u?f=u:f%2||f--,{columns:l,rows:f}},K=function(e){var t=e.columns,n=e.rows;return Object(I.a)({},Symbol.asyncIterator,Object(R.a)(_.a.mark((function e(){var r,i,a,o,c,u,s,l,f,m,p,h,w;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=-1,i=0,a=0,o=0,c=t,u=n,s={x:1,y:0},l=function(){return s.x},f=function(){return s.y},m=function e(){var t=r+l(),n=i+f();if(0===f()){if(a===c)return null;if(t>=c)return s={x:0,y:1},o++,e();if(t<a)return s={x:0,y:-1},u--,e()}if(0===l()){if(o===u)return null;if(n>=u)return s={x:-1,y:0},c--,e();if(n<o)return s={x:1,y:0},a++,e()}return{nextX:t,nextY:n}};case 2:if(p=m()){e.next=6;break}return e.abrupt("break",13);case 6:return h=p.nextX,w=p.nextY,r=h,i=w,e.next=11,[{column:r,row:i}];case 11:e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))},U=function(e){var t=e.columns,n=e.rows,r=e.cell,i=e.vectors,a=e.minColumn,o=e.minRow,c=e.maxColumn,u=e.maxRow;return Object(I.a)({},Symbol.asyncIterator,Object(R.a)(_.a.mark((function e(){var s,l,f,m,p,h,w,b,v;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[r],l=a||0,f=c?c-1:t-1,m=o||0,p=u?u-1:n-1,h=Object(L.uniqWith)(i.filter((function(e){return!(e.x===e.y&&0===e.x)})),L.isEqual),w=[Object(W.a)({},r)],b=function(){var e=[];h.forEach((function(t){s.forEach((function(n){var i=n.column,a=n.row;if(-1===t.x&&i<=r.column||1===t.x&&i>=r.column||-1===t.y&&a<=r.row||1===t.y&&a>=r.row){var o={column:i+t.x,row:a+t.y};if(w.find((function(e){var t=e.column,n=e.row;return t===o.column&&n===o.row})))return;w.push(o),e.push(o)}}))}));var t=Object(L.uniqWith)(e.filter((function(e){var t=e.column,n=e.row;return t>=l&&n>=m&&t<=f&&n<=p})),L.isEqual);return t.length?t:null},e.next=4,[Object(W.a)({},r)];case 4:if(v=b()){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,v;case 10:s=v,e.next=4;break;case 13:case"end":return e.stop()}}),e)}))))},V=function(e,t,n){var r,i,a,o,c,u;return _.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=!0,i=!1,s.prev=2,o=Object(z.a)(e);case 4:return s.next=6,_.a.awrap(o.next());case 6:return c=s.sent,r=c.done,s.next=10,_.a.awrap(c.value);case 10:if(u=s.sent,r){s.next=22;break}if(!n(u)){s.next=16;break}return s.abrupt("break",22);case 16:if(!(t>0)){s.next=19;break}return s.next=19,_.a.awrap(D(t));case 19:r=!0,s.next=4;break;case 22:s.next=28;break;case 24:s.prev=24,s.t0=s.catch(2),i=!0,a=s.t0;case 28:if(s.prev=28,s.prev=29,r||null==o.return){s.next=33;break}return s.next=33,_.a.awrap(o.return());case 33:if(s.prev=33,!i){s.next=36;break}throw a;case 36:return s.finish(33);case 37:return s.finish(28);case 38:case"end":return s.stop()}}),null,null,[[2,24,28,38],[29,,33,37]])},$=function(e){return e[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-.5+Math.random()*(e-t+1);return Math.round(n)}(e.length-1)]},Q=n(27),ee=function(){var e=new Map,t=function(t){var n=e.get(t);if(n)return n;var r=Q.a.search(t).map((function(e){return e.native}));return e.set(t,r),r};return function(e){return $(e.map(t).flat())}}(),te=n(20),ne=n(19),re=n(21),ie=function e(){Object(A.a)(this,e),this.isEmpty=!0},ae=function e(t){Object(A.a)(this,e),this.content=t,this.isEmoji=!0},oe=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=Object(te.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(i)))).isHello=!0,n}return Object(re.a)(t,e),t}(ae),ce=function e(t){Object(A.a)(this,e),this.content=t,this.isText=!0};!function(e){e[e.initial=0]="initial",e[e.application=1]="application",e[e.snake=2]="snake"}(p||(p={}));var ue=(r=S.l.struct,i=function(){function e(){var t=this;Object(A.a)(this,e),Object(C.a)(this,"columns",a,this),Object(C.a)(this,"rows",o,this),Object(C.a)(this,"viewportSize",c,this),Object(C.a)(this,"isMobile",u,this),Object(C.a)(this,"isPortrait",s,this),Object(C.a)(this,"view",l,this),Object(C.a)(this,"grid",f,this),Object(C.a)(this,"cells",m,this),this.initialAnimationWasShown=!1,this.isAnimationRun=!1,this.initWasRequested=!1,this.init(),this.showInitialAnimation=this.withAnimationDecorator(this.showInitialAnimation),window.addEventListener("resize",Object(L.debounce)((function(){t.viewportSize=T()}),500)),Object(S.m)((function(){return t.viewportSize}),(function(){t.isMobile=Z(),t.isPortrait=X(),t.init()}))}return Object(M.a)(e,[{key:"menuPosition",get:function(){return function(e){var t=e.columns,n=e.rows,r=e.isMobile,i=e.isPortrait;return!r||r&&!i?{column:t-1,row:1,vector:{x:0,y:1}}:{column:1,row:n-1,vector:{x:1,y:0}}}({columns:this.columns,rows:this.rows,isMobile:this.isMobile,isPortrait:this.isPortrait})}},{key:"pageLeftCornerPosition",get:function(){return{column:0,row:0}}}]),Object(M.a)(e,[{key:"initGrid",value:function(){var e=[];this.cells.clear();for(var t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++){var r="".concat(t,"-").concat(n);e[t].push(r),this.cells.set(r,{model:new ie})}}this.grid=e}},{key:"init",value:function(){var e,t,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.isAnimationRun){r.next=3;break}return this.initWasRequested=!0,r.abrupt("return");case 3:if(e=F(this.viewportSize),t=e.columns,n=e.rows,this.columns=t,this.rows=n,this.initGrid(),this.initialAnimationWasShown){r.next=11;break}return r.next=10,_.a.awrap(D(1e3));case 10:this.showInitialAnimation();case 11:case"end":return r.stop()}}),null,this)}},{key:"startAnimation",value:function(){this.isAnimationRun=!0}},{key:"stopAnimation",value:function(){this.isAnimationRun=!1,this.initWasRequested&&this.init(),this.initWasRequested=!1}},{key:"withAnimationDecorator",value:function(e){var t=this;return function(){var n,r,i,a=arguments;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(t.startAnimation(),n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return o.next=4,_.a.awrap(e.apply(t,r));case 4:t.stopAnimation();case 5:case"end":return o.stop()}}))}}},{key:"showInitialAnimation",value:function(){var e,t,n,r,i,a,o,c,u,s,l,f,m,p,h,w,b,v,y=this;return _.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e=this.columns,t=this.rows,n=this.grid,r=this.isMobile,i=1,a=r?15:10,o=Math.floor(e/2),c=Math.floor(t/2),u=n[c][o],s=this.getCell(u),l="\u270b",f=K({columns:e,rows:t}),d.next=4,_.a.awrap(V(f,a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=y.getCell(i);u===i?s.model=new ae(l):a.model=new ae(ee(["snow","happy","santa","gift","family","beer","coffee","cup tea","glass wine","celebration","orange fruit"]))}))})));case 4:return d.next=6,_.a.awrap(D(300));case 6:if(m=function(r){var s;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return s=U({columns:e,rows:t,cell:{column:o,row:c},vectors:r,minColumn:i,minRow:i,maxColumn:e-i,maxRow:t-i}),l.next=3,_.a.awrap(V(s,2.5*a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=y.getCell(i);u!==i&&(a.model=new ie)}))})));case 3:case"end":return l.stop()}}))},d.t0=!r,!d.t0){d.next=11;break}return d.next=11,_.a.awrap(m([{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}]));case 11:return d.next=13,_.a.awrap(m([{x:-1,y:1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:1},{x:0,y:1}]));case 13:return s.model=new oe(l),p=performance.now(),h=parseInt(O.a.helloAnimationTime),d.next=18,_.a.awrap(D(.9*h));case 18:return w={columns:e,rows:t,cell:{column:o,row:this.rows-1},vectors:[{x:0,y:-1},{x:1,y:0},{x:-1,y:0}]},b=U(w),d.next=21,_.a.awrap(V(b,20,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t];y.getCell(i).model=new ie}))})));case 21:if(!((v=h-(performance.now()-p))>0)){d.next=25;break}return d.next=25,_.a.awrap(D(v));case 25:s.model=new ie,this.initialAnimationWasShown=!0;case 27:case"end":return d.stop()}}),null,this)}},{key:"getCell",value:function(e){return this.cells.get(e)}},{key:"square",get:function(){return this.columns*this.rows}}]),e}(),a=Object(P.a)(i.prototype,"columns",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=Object(P.a)(i.prototype,"rows",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=Object(P.a)(i.prototype,"viewportSize",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T()}}),u=Object(P.a)(i.prototype,"isMobile",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z()}}),s=Object(P.a)(i.prototype,"isPortrait",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X()}}),l=Object(P.a)(i.prototype,"view",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.initial}}),f=Object(P.a)(i.prototype,"grid",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=Object(P.a)(i.prototype,"cells",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(P.a)(i.prototype,"menuPosition",[S.e],Object.getOwnPropertyDescriptor(i.prototype,"menuPosition"),i.prototype),Object(P.a)(i.prototype,"pageLeftCornerPosition",[S.e],Object.getOwnPropertyDescriptor(i.prototype,"pageLeftCornerPosition"),i.prototype),Object(P.a)(i.prototype,"initGrid",[S.d],Object.getOwnPropertyDescriptor(i.prototype,"initGrid"),i.prototype),Object(P.a)(i.prototype,"square",[S.e],Object.getOwnPropertyDescriptor(i.prototype,"square"),i.prototype),Object(P.a)(i.prototype,"getCell",[function(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}],Object.getOwnPropertyDescriptor(i.prototype,"getCell"),i.prototype),i),se=function(){return new ue},le=w.a.createContext(null),fe=function(e){var t=e.children,n=Object(E.b)(se);return w.a.createElement(le.Provider,{value:n},t)},me=function(){var e=w.a.useContext(le);if(!e)throw new Error("useGrid must be used within a GridProvider.");return e},pe=function(e){var t=e.children;return w.a.createElement("div",{className:O.a.cell},t)},he=Object(E.a)((function(e){var t,n=e.id,r=(0,me().getCell)(n).model;return r instanceof ae&&(t=w.a.createElement(we,r)),r instanceof oe&&(t=w.a.createElement(be,r)),r instanceof ce&&(t=w.a.createElement(ve,r)),r instanceof ie&&(t=w.a.createElement(w.a.Fragment,null)),w.a.createElement(pe,null,t)})),we=function(e){return w.a.createElement("div",{className:j()(O.a.cellEmoji)},e.content)},be=function(e){return w.a.createElement("div",{className:j()(O.a.cellEmoji,O.a.cellHelloEmoji)},e.content)},ve=function(e){return w.a.createElement("div",{className:O.a.cellText},e.content)},ye=he,de=function(e,t,n){return function(r){function i(){var e,t;Object(A.a)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=Object(te.a)(this,(e=Object(ne.a)(i)).call.apply(e,[this].concat(r)))).state={element:null},t}return Object(re.a)(i,r),Object(M.a)(i,[{key:"componentWillMount",value:function(){var e=this.element;e&&e.classList.add(n)}},{key:"componentWillUnmount",value:function(){var e=this.element;e&&e.classList.remove(n)}},{key:"render",value:function(){return w.a.createElement(e,this.props)}},{key:"element",get:function(){return document.querySelector(t)||null}}]),i}(w.a.Component)},xe=Object(E.a)((function(){var e=me().grid;return w.a.createElement("div",{className:d.a.grid},e.map((function(e,t){return w.a.createElement(je,{key:t},e.map((function(e,t){return w.a.createElement(ge,{key:t},w.a.createElement(ye,{id:e}))})))})))})),je=function(e){var t=e.children;return w.a.createElement("div",{className:d.a.row},t)},ge=function(e){var t=e.children;return w.a.createElement("div",{className:j()(d.a.col)},t)},Oe=de(xe,"html",d.a.gridWrapper),Ee=n(26),ke=function(e){return function(t){var n=Object(Ee.a)({},t);return w.a.createElement(fe,null,w.a.createElement(e,n))}}(Oe),_e=function(){return w.a.createElement(ke,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(w.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports={minCellSize:"40px",maxCellSize:"100px",gridWrapper:"Grid_gridWrapper__Rwaf7",grid:"Grid_grid__24j1p",row:"Grid_row__2rajf",col:"Grid_col__1SX7O"}},8:function(e,t,n){e.exports={helloAnimationTime:"1200",cell:"Cell_cell__2Y63x",cellEmoji:"Cell_cellEmoji__210BA",cellHelloEmoji:"Cell_cellHelloEmoji__Khd3i","hello-animation":"Cell_hello-animation__zIPad",cellMenu:"Cell_cellMenu__2IVHi"}}},[[28,1,2]]]);
//# sourceMappingURL=main.66bccc57.chunk.js.map