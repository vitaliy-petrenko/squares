(this.webpackJsonpsquares=this.webpackJsonpsquares||[]).push([[0],{27:function(e,t,n){e.exports=n(41)},32:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(13),o=n.n(a),c=(n(32),n(8)),u=n.n(c),l=n(9),s=n.n(l),m=n(6),f=n.n(m),p=n(12),h=n(3),w=n.n(h),b=n(7),v=n(5),d=n(15),y=n(4),x=(n(35),n(2)),g=n(10),j=n(17),O=n(14),k=n(21),C=(n(37),n(18)),A=u.a.minCellSize,E=parseInt(A),_=function(e){return new Promise((function(t){setTimeout(t,e)}))},P=function(){var e=window,t=e.innerHeight;return{viewportWidth:e.innerWidth,viewportHeight:t}},D=function(){var e=P();return e.viewportWidth<e.viewportHeight},W=function(){var e=M(),t=e.minColumns,n=e.minRows,r=P(),i=r.viewportHeight;return r.viewportWidth<=E*t||i<=E*n},M=function(){return{minColumns:11,minRows:11}},S=function(e){var t=e.viewportWidth,n=e.viewportHeight,r=W()?{minColumns:7,minRows:7}:M(),i=r.minColumns,a=r.minRows,o=Math.min(n/a,t/i);o<E&&(o=E);var c=Math.round(t/o),u=Math.round(n/o);return c>=25?c=25:c<=i?c=i:c%2||c++,u>=25?u=25:u<=a?u=a:u%2||u--,{columns:c,rows:u}},R=function(e){var t=e.columns,n=e.rows;return Object(O.a)({},Symbol.asyncIterator,Object(C.a)(w.a.mark((function e(){var r,i,a,o,c,u,l,s,m,f,p,h,b;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=-1,i=0,a=0,o=0,c=t,u=n,l={x:1,y:0},s=function(){return l.x},m=function(){return l.y},f=function e(){var t=r+s(),n=i+m();if(0===m()){if(a===c)return null;if(t>=c)return l={x:0,y:1},o++,e();if(t<a)return l={x:0,y:-1},u--,e()}if(0===s()){if(o===u)return null;if(n>=u)return l={x:-1,y:0},c--,e();if(n<o)return l={x:1,y:0},a++,e()}return{nextX:t,nextY:n}};case 2:if(p=f()){e.next=6;break}return e.abrupt("break",13);case 6:return h=p.nextX,b=p.nextY,r=h,i=b,e.next=11,[{column:r,row:i}];case 11:e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))},z=function(e){var t=e.columns,n=e.rows,r=e.cell,i=e.vectors,a=e.minColumn,o=e.minRow,c=e.maxColumn,u=e.maxRow;return Object(O.a)({},Symbol.asyncIterator,Object(C.a)(w.a.mark((function e(){var l,s,m,f,p,h,b,v,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=[r],s=a||0,m=c?c-1:t-1,f=o||0,p=u?u-1:n-1,h=Object(g.uniqWith)(i.filter((function(e){return!(e.x===e.y&&0===e.x)})),g.isEqual),b=[Object(j.a)({},r)],v=function(){var e=[];h.forEach((function(t){l.forEach((function(n){var i=n.column,a=n.row;if(-1===t.x&&i<=r.column||1===t.x&&i>=r.column||-1===t.y&&a<=r.row||1===t.y&&a>=r.row){var o={column:i+t.x,row:a+t.y};if(b.find((function(e){var t=e.column,n=e.row;return t===o.column&&n===o.row})))return;b.push(o),e.push(o)}}))}));var t=Object(g.uniqWith)(e.filter((function(e){var t=e.column,n=e.row;return t>=s&&n>=f&&t<=m&&n<=p})),g.isEqual);return t.length?t:null},e.next=4,[Object(j.a)({},r)];case 4:if(d=v()){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,d;case 10:l=d,e.next=4;break;case 13:case"end":return e.stop()}}),e)}))))},q=function(e,t,n,r){var i,a,o,c,u,l,s;return w.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(!r||!r()){m.next=2;break}return m.abrupt("return");case 2:i=!0,a=!1,m.prev=4,c=Object(k.a)(e);case 6:return m.next=8,w.a.awrap(c.next());case 8:return u=m.sent,i=u.done,m.next=12,w.a.awrap(u.value);case 12:if(l=m.sent,i){m.next=26;break}if(s=l,!r||!r()){m.next=17;break}return m.abrupt("break",26);case 17:if(!n(s)){m.next=20;break}return m.abrupt("break",26);case 20:if(!(t>0)){m.next=23;break}return m.next=23,w.a.awrap(_(t));case 23:i=!0,m.next=6;break;case 26:m.next=32;break;case 28:m.prev=28,m.t0=m.catch(4),a=!0,o=m.t0;case 32:if(m.prev=32,m.prev=33,i||null==c.return){m.next=37;break}return m.next=37,w.a.awrap(c.return());case 37:if(m.prev=37,!a){m.next=40;break}throw o;case 40:return m.finish(37);case 41:return m.finish(32);case 42:case"end":return m.stop()}}),null,null,[[4,28,32,42],[33,,37,41]])},I=function(e){return{row:Math.floor(e.length/2),column:Math.floor(e[0].length/2)}},G=function(e){return e[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-.5+Math.random()*(e-t+1);return Math.round(n)}(e.length-1)]},H=n(24),N=function(){var e=new Map,t=function(t){var n=e.get(t);if(n)return n;var r=H.a.search(t).map((function(e){return e.native}));return e.set(t,r),r};return function(e){return G(e.map(t).flat())}}(),L=function(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}},T=function e(){Object(v.a)(this,e)},B=function e(t){Object(v.a)(this,e),this.color=t},X=function e(t){Object(v.a)(this,e),this.content=t},Y=function e(){Object(v.a)(this,e)};Y.symbol="\u270b";var J,U,F,K,V,$,Q,Z,ee,te,ne,re=function e(t){Object(v.a)(this,e),this.content=t};!function(e){e[e.initial=0]="initial",e[e.application=1]="application",e[e.snake=2]="snake"}(ne||(ne={}));var ie=(J=x.l.struct,U=function(){function e(){var t=this;Object(v.a)(this,e),Object(b.a)(this,"columns",F,this),Object(b.a)(this,"rows",K,this),Object(b.a)(this,"viewportSize",V,this),Object(b.a)(this,"isMobile",$,this),Object(b.a)(this,"isPortrait",Q,this),Object(b.a)(this,"grid",Z,this),Object(b.a)(this,"view",ee,this),Object(b.a)(this,"cells",te,this),this.initialAnimationWasShown=!1,this.isAnimationRun=!1,this.initWasRequested=!1,this.clearCell=function(e){!e||e.model instanceof T||(e.model=new T)},this.showInitialAnimation=this.withAnimationDecorator(this.showInitialAnimation),this.place404=this.withAnimationDecorator(this.place404),window.addEventListener("resize",Object(g.debounce)((function(){t.viewportSize=P()}),400)),Object(x.m)((function(){return t.viewportSize}),(function(){t.init()})),this.init()}return Object(d.a)(e,[{key:"init",value:function(){var e,t,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.isAnimationRun){r.next=3;break}return this.initWasRequested=!0,r.abrupt("return");case 3:e=S(this.viewportSize),t=e.columns,n=e.rows,this.columns=t,this.rows=n,this.isMobile=W(),this.isPortrait=D(),this.initGrid();case 9:if(this.isAnimationCanceled()){r.next=19;break}if(this.initialAnimationWasShown){r.next=15;break}return r.next=13,w.a.awrap(this.delayAnimation(1e3));case 13:return r.next=15,w.a.awrap(this.showInitialAnimation());case 15:return r.next=17,w.a.awrap(this.place404());case 17:r.next=9;break;case 19:case"end":return r.stop()}}),null,this)}},{key:"startAnimation",value:function(){this.isAnimationRun=!0}},{key:"stopAnimation",value:function(){this.isAnimationRun=!1,this.initWasRequested&&this.init(),this.initWasRequested=!1}},{key:"isAnimationCanceled",value:function(){return this.initWasRequested}},{key:"delayAnimation",value:function(e){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isAnimationCanceled()){t.next=3;break}return t.next=3,w.a.awrap(_(e));case 3:case"end":return t.stop()}}),null,this)}},{key:"showInitialAnimation",value:function(){var e,t,n,r,i,a,o,c,u,l,s,m,p,h,b,v,d,y,x,g,j,O=this;return w.a.async((function(k){for(;;)switch(k.prev=k.next){case 0:return e=this.columns,t=this.rows,n=this.grid,r=this.isMobile,i=r?15:8,a=this.middleCell,o=a.column,c=a.row,u=n[c][o],l=this.getCellData(u),s=R({columns:e,rows:t}),m=function(e){var t=e.column,r=e.row,i=n[r][t],a=O.getCellData(i);u===i?l.model=new X(Y.symbol):a.model=new X(N(["snow","happy","santa","gift","family","beer","coffee","cup tea","glass wine","celebration","orange fruit"]))},p=function(e){return e.forEach(m)},k.next=4,w.a.awrap(this.runAnimationScenario(s,i,p));case 4:return k.next=6,w.a.awrap(this.delayAnimation(300));case 6:if(h=function(r){var a,l,s;return w.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return 1,a=z({columns:e,rows:t,cell:{column:o,row:c},vectors:r,minColumn:1,minRow:1,maxColumn:e-1,maxRow:t-1}),l=function(e){var t=e.column,r=e.row,i=n[r][t],a=O.getCellData(i);u!==i&&O.clearCell(a)},s=function(e){return e.forEach(l)},m.next=3,w.a.awrap(O.runAnimationScenario(a,2.5*i,s));case 3:case"end":return m.stop()}}))},k.t0=!r,!k.t0){k.next=11;break}return k.next=11,w.a.awrap(h([{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}]));case 11:return k.next=13,w.a.awrap(h([{x:-1,y:1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:1},{x:0,y:1}]));case 13:return l.model=new Y,b=performance.now(),v=parseInt(f.a.helloAnimationTime),k.next=18,w.a.awrap(this.delayAnimation(.9*v));case 18:return d={columns:e,rows:t,cell:{column:o,row:this.rows-1},vectors:[{x:0,y:-1},{x:1,y:0},{x:-1,y:0}]},y=z(d),x=function(e){var t=e.column,r=e.row,i=n[r][t],a=O.getCellData(i);O.clearCell(a)},g=function(e){return e.forEach(x)},k.next=21,w.a.awrap(this.runAnimationScenario(y,20,g));case 21:if(!((j=v-(performance.now()-b))>0)){k.next=25;break}return k.next=25,w.a.awrap(this.delayAnimation(j));case 25:this.clearCell(l),this.initialAnimationWasShown=!0;case 27:case"end":return k.stop()}}),null,this)}},{key:"getCellData",value:function(e){return this.cells.get(e)}},{key:"place404",value:function(){var e,t,n,r,i,a,o,c,u,l,s=this;return w.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e="#5a2f8e",t=null,n="#267479",r=this.isMobile&&this.isPortrait?[[e,t,e],[e,e,e],[t,t,e],[n,n,n],[n,t,n],[n,n,n],[e,t,e],[e,e,e],[t,t,e]]:[[e,t,e,n,n,n,e,t,e],[e,e,e,n,t,n,e,e,e],[t,t,e,n,n,n,t,t,e]],i=r[0].length,a=z({columns:i,rows:r.length,cell:{column:0,row:0},vectors:[{x:0,y:1},{x:1,y:1},{x:1,y:0}]}),o=this.middleCell,c=function(e){var t=e.row,n=e.column;return s.grid[t+o.row-I(r).row][n+o.column-I(r).column]},u=function(e){var t=e.column,n=e.row,i=c({column:t,row:n}),a=s.getCellData(i),o=r[n][t];o&&(a.model=new B(o))},l=function(e){return e.forEach(u)},m.next=5,w.a.awrap(this.runAnimationScenario(a,100,l));case 5:return m.next=7,w.a.awrap(this.delayAnimation(500));case 7:return m.next=9,w.a.awrap(this.runAnimationScenario(a,40,(function(e){return e.forEach((function(e){var t=e.column,n=e.row;return s.clearCell(s.getCellData(c({column:t,row:n})))}))})));case 9:case"end":return m.stop()}}),null,this)}},{key:"initGrid",value:function(){var e=[];this.cells.clear();for(var t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++){var r="".concat(t,"-").concat(n);e[t].push(r),this.cells.set(r,{model:new T})}}this.grid=e}},{key:"withAnimationDecorator",value:function(e){var t=this;return function(){var n,r,i,a=arguments;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.isAnimationCanceled()){o.next=2;break}return o.abrupt("return");case 2:for(t.startAnimation(),n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return o.next=6,w.a.awrap(e.apply(t,r));case 6:t.stopAnimation();case 7:case"end":return o.stop()}}))}}},{key:"runAnimationScenario",value:function(e,t,n){return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.a.awrap(q(e,t,n,this.isAnimationCanceled));case 2:case"end":return r.stop()}}),null,this)}},{key:"middleCell",get:function(){return I(this.grid)}},{key:"square",get:function(){return this.columns*this.rows}},{key:"menuPosition",get:function(){return function(e){var t=e.columns,n=e.rows,r=e.isMobile,i=e.isPortrait;return!r||r&&!i?{column:t-1,row:1,vector:{x:0,y:1}}:{column:1,row:n-1,vector:{x:1,y:0}}}({columns:this.columns,rows:this.rows,isMobile:this.isMobile,isPortrait:this.isPortrait})}},{key:"pageLeftCornerPosition",get:function(){return{column:0,row:0}}}]),e}(),F=Object(y.a)(U.prototype,"columns",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),K=Object(y.a)(U.prototype,"rows",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V=Object(y.a)(U.prototype,"viewportSize",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P()}}),$=Object(y.a)(U.prototype,"isMobile",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W()}}),Q=Object(y.a)(U.prototype,"isPortrait",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D()}}),Z=Object(y.a)(U.prototype,"grid",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=Object(y.a)(U.prototype,"view",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ne.initial}}),te=Object(y.a)(U.prototype,"cells",[x.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(y.a)(U.prototype,"middleCell",[x.e],Object.getOwnPropertyDescriptor(U.prototype,"middleCell"),U.prototype),Object(y.a)(U.prototype,"square",[x.e],Object.getOwnPropertyDescriptor(U.prototype,"square"),U.prototype),Object(y.a)(U.prototype,"menuPosition",[x.e],Object.getOwnPropertyDescriptor(U.prototype,"menuPosition"),U.prototype),Object(y.a)(U.prototype,"pageLeftCornerPosition",[x.e],Object.getOwnPropertyDescriptor(U.prototype,"pageLeftCornerPosition"),U.prototype),Object(y.a)(U.prototype,"isAnimationCanceled",[L],Object.getOwnPropertyDescriptor(U.prototype,"isAnimationCanceled"),U.prototype),Object(y.a)(U.prototype,"getCellData",[L],Object.getOwnPropertyDescriptor(U.prototype,"getCellData"),U.prototype),Object(y.a)(U.prototype,"initGrid",[x.d],Object.getOwnPropertyDescriptor(U.prototype,"initGrid"),U.prototype),U),ae=function(){return new ie},oe=i.a.createContext(null),ce=function(e){var t=e.children,n=Object(p.b)(ae);return i.a.createElement(oe.Provider,{value:n},t)},ue=function(){var e=i.a.useContext(oe);if(!e)throw new Error("useGrid must be used within a GridProvider.");return e},le=Object(p.a)((function(e){var t,n=e.id,r=(0,ue().getCellData)(n).model;return r instanceof X&&(t=i.a.createElement(se,r)),r instanceof Y&&(t=i.a.createElement(me,null)),r instanceof re&&(t=i.a.createElement(fe,r)),r instanceof B&&(t=i.a.createElement(pe,r)),i.a.createElement(i.a.Fragment,null,t)})),se=function(e){var t=e.content;return i.a.createElement("div",{className:s()(f.a.cell,f.a.cellEmoji)},t)},me=function(){return i.a.createElement("div",{className:s()(f.a.cell,f.a.cellEmoji,f.a.cellHelloEmoji)},Y.symbol)},fe=function(e){var t=e.content;return i.a.createElement("div",{className:s()(f.a.cell,f.a.cellText)},t)},pe=function(e){var t=e.color,n={};return n.background=t,i.a.createElement("div",{className:s()(f.a.cell,f.a.cellColor),style:n})},he=le,we=n(25),be=n(22),ve=n(26),de=function(e,t,n){return function(r){function a(){var t,n;Object(v.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(we.a)(this,(t=Object(be.a)(a)).call.apply(t,[this].concat(o)))).render=function(){return i.a.createElement(e,n.props)},n}return Object(ve.a)(a,r),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.element;e&&e.classList.add(n)}},{key:"componentWillUnmount",value:function(){var e=this.element;e&&e.classList.remove(n)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"element",get:function(){return document.querySelector(t)||null}}]),a}(i.a.Component)},ye=Object(p.a)((function(){var e=ue().grid;return i.a.createElement("div",{className:u.a.grid},e.map((function(e,t){return i.a.createElement(xe,{key:t},e.map((function(e,t){return i.a.createElement(ge,{key:t},i.a.createElement(he,{id:e}))})))})))})),xe=function(e){var t=e.children;return i.a.createElement("div",{className:u.a.row},t)},ge=function(e){var t=e.children;return i.a.createElement("div",{className:s()(u.a.col)},t)},je=de(ye,"html",u.a.gridWrapper),Oe=n(23),ke=function(e){return function(t){var n=Object(Oe.a)({},t);return i.a.createElement(ce,null,i.a.createElement(e,n))}}(je),Ce=function(){return i.a.createElement(ke,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){e.exports={helloAnimationTime:"1400",cell:"Cell_cell__2Y63x",cellEmoji:"Cell_cellEmoji__210BA",cellHelloEmoji:"Cell_cellHelloEmoji__Khd3i","hello-animation":"Cell_hello-animation__zIPad",cellMenu:"Cell_cellMenu__2IVHi"}},8:function(e,t,n){e.exports={minCellSize:"40px",gridWrapper:"Grid_gridWrapper__Rwaf7",grid:"Grid_grid__24j1p",row:"Grid_row__2rajf",col:"Grid_col__1SX7O"}}},[[27,1,2]]]);
//# sourceMappingURL=main.738a2f72.chunk.js.map