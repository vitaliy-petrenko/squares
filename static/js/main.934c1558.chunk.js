(this.webpackJsonpsquares=this.webpackJsonpsquares||[]).push([[0],{28:function(e,t,n){e.exports=n(41)},33:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,i,a,o,c,u,s,l,f,m,h=n(0),p=n.n(h),w=n(13),b=n.n(w),v=(n(33),n(8)),x=n.n(v),d=n(14),y=n.n(d),j=n(5),g=n.n(j),E=n(12),O=n(3),k=n.n(O),_=n(6),C=n(9),A=n(22),M=n(4),I=(n(36),n(2)),S=n(19),z=n(7),R=n(16),W=(n(18),n(15)),q=n(10),L=x.a.maxCellSize,H=x.a.minCellSize,N=parseInt(L),P=parseInt(H),G=function(e){return new Promise((function(t){setTimeout(t,e)}))},D=function(){var e=window,t=e.innerHeight;return{viewportWidth:e.innerWidth,viewportHeight:t}},T=function(){var e=function(){var e=D();return e.viewportWidth>e.viewportHeight}();return{minColumns:e?8:7,minRows:e?7:8}},X=function(){return{MIN_CELL_SIZE:P,MAX_CELL_SIZE:N}},Z=function(){var e=X().MIN_CELL_SIZE,t={minColumns:12,minRows:11},n=t.minColumns,r=t.minRows,i=D(),a=i.viewportHeight;return i.viewportWidth<=e*n||a<=e*r},B=function(e){var t=e.viewportWidth,n=e.viewportHeight,r=X(),i=r.MIN_CELL_SIZE,a=r.MAX_CELL_SIZE,o=Z()?T():{minColumns:12,minRows:11},c=o.minColumns,u=o.minRows,s=Math.min(n/u,t/c);s<i&&(s=i),s>a&&(s=a);var l=Math.round(t/s),f=Math.round(n/s);return l>=25?l=25:l<=c?l=c:l%2||l++,f>=25?f=25:f<=u?f=u:f%2||f--,{columns:l,rows:f}},Y=function(e){var t=e.columns,n=e.rows;return Object(z.a)({},Symbol.asyncIterator,Object(W.a)(k.a.mark((function e(){var r,i,a,o,c,u,s,l,f,m,h,p,w;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=-1,i=0,a=0,o=0,c=t,u=n,s={x:1,y:0},l=function(){return s.x},f=function(){return s.y},m=function e(){var t=r+l(),n=i+f();if(0===f()){if(a===c)return null;if(t>=c)return s={x:0,y:1},o++,e();if(t<a)return s={x:0,y:-1},u--,e()}if(0===l()){if(o===u)return null;if(n>=u)return s={x:-1,y:0},c--,e();if(n<o)return s={x:1,y:0},a++,e()}return{nextX:t,nextY:n}};case 2:if(h=m()){e.next=6;break}return e.abrupt("break",13);case 6:return p=h.nextX,w=h.nextY,r=p,i=w,e.next=11,[{column:r,row:i}];case 11:e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))},J=function(e){var t=e.columns,n=e.rows,r=e.cell,i=e.vectors,a=e.minColumn,o=e.minRow,c=e.maxColumn,u=e.maxRow;return Object(z.a)({},Symbol.asyncIterator,Object(W.a)(k.a.mark((function e(){var s,l,f,m,h,p,w,b,v;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[r],l=a||0,f=c?c-1:t-1,m=o||0,h=u?u-1:n-1,p=Object(q.uniqWith)(i.filter((function(e){return!(e.x===e.y&&0===e.x)})),q.isEqual),w=[Object(S.a)({},r)],b=function(){var e=[];p.forEach((function(t){s.forEach((function(n){var i=n.column,a=n.row;if(-1===t.x&&i<=r.column||1===t.x&&i>=r.column||-1===t.y&&a<=r.row||1===t.y&&a>=r.row){var o={column:i+t.x,row:a+t.y};if(w.find((function(e){var t=e.column,n=e.row;return t===o.column&&n===o.row})))return;w.push(o),e.push(o)}}))}));var t=Object(q.uniqWith)(e.filter((function(e){var t=e.column,n=e.row;return t>=l&&n>=m&&t<=f&&n<=h})),q.isEqual);return t.length?t:null},e.next=4,[Object(S.a)({},r)];case 4:if(v=b()){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,v;case 10:s=v,e.next=4;break;case 13:case"end":return e.stop()}}),e)}))))},F=function(e,t,n){var r,i,a,o,c,u;return k.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=!0,i=!1,s.prev=2,o=Object(R.a)(e);case 4:return s.next=6,k.a.awrap(o.next());case 6:return c=s.sent,r=c.done,s.next=10,k.a.awrap(c.value);case 10:if(u=s.sent,r){s.next=22;break}if(!n(u)){s.next=16;break}return s.abrupt("break",22);case 16:if(!(t>0)){s.next=19;break}return s.next=19,k.a.awrap(G(t));case 19:r=!0,s.next=4;break;case 22:s.next=28;break;case 24:s.prev=24,s.t0=s.catch(2),i=!0,a=s.t0;case 28:if(s.prev=28,s.prev=29,r||null==o.return){s.next=33;break}return s.next=33,k.a.awrap(o.return());case 33:if(s.prev=33,!i){s.next=36;break}throw a;case 36:return s.finish(33);case 37:return s.finish(28);case 38:case"end":return s.stop()}}),null,null,[[2,24,28,38],[29,,33,37]])},K=function(e){return e[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-.5+Math.random()*(e-t+1);return Math.round(n)}(e.length-1)]},V=n(25),$=function(){var e=new Map,t=function(t){var n=e.get(t);if(n)return n;var r=V.a.search(t).map((function(e){return e.native}));return e.set(t,r),r};return function(e){return K(e.map(t).flat())}}(),Q=n(26),U=n(23),ee=n(27),te=function e(){Object(C.a)(this,e),this.isEmpty=!0},ne=function e(t){Object(C.a)(this,e),this.content=t,this.isEmoji=!0},re=function(e){function t(){var e,n;Object(C.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=Object(Q.a)(this,(e=Object(U.a)(t)).call.apply(e,[this].concat(i)))).isHello=!0,n}return Object(ee.a)(t,e),t}(ne),ie=function e(t){Object(C.a)(this,e),this.content=t,this.isText=!0};!function(e){e[e.initial=0]="initial",e[e.application=1]="application",e[e.snake=2]="snake"}(m||(m={}));var ae=(r=I.l.struct,i=function(){function e(){var t=this;Object(C.a)(this,e),Object(_.a)(this,"columns",a,this),Object(_.a)(this,"rows",o,this),Object(_.a)(this,"viewportSize",c,this),Object(_.a)(this,"isMobile",u,this),Object(_.a)(this,"view",s,this),Object(_.a)(this,"grid",l,this),Object(_.a)(this,"cells",f,this),this.menuPosition={column:0,row:0},this.pagePosition={column:0,row:0},this.initialAnimationWasShown=!1,this.isAnimationRun=!1,this.initWasRequested=!1,this.isMobile=Z(),this.init(),this.showInitialAnimation=this.withAnimationDecorator(this.showInitialAnimation),window.addEventListener("resize",Object(q.debounce)((function(){t.viewportSize=D()}),500)),Object(I.m)((function(){return t.viewportSize}),(function(){t.isMobile=Z(),t.init()}))}return Object(A.a)(e,[{key:"initGrid",value:function(){var e=[];this.cells.clear();for(var t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++){var r="".concat(t,"-").concat(n);e[t].push(r),this.cells.set(r,{model:new te})}}this.grid=e}},{key:"init",value:function(){var e,t,n;return k.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.isAnimationRun){r.next=3;break}return this.initWasRequested=!0,r.abrupt("return");case 3:if(e=B(this.viewportSize),t=e.columns,n=e.rows,this.columns=t,this.rows=n,this.initGrid(),this.initialAnimationWasShown){r.next=11;break}return r.next=10,k.a.awrap(G(1e3));case 10:this.showInitialAnimation();case 11:case"end":return r.stop()}}),null,this)}},{key:"startAnimation",value:function(){this.isAnimationRun=!0}},{key:"stopAnimation",value:function(){this.isAnimationRun=!1,this.initWasRequested&&this.init(),this.initWasRequested=!1}},{key:"withAnimationDecorator",value:function(e){var t=this;return function(){var n,r,i,a=arguments;return k.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(t.startAnimation(),n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return o.next=4,k.a.awrap(e.apply(t,r));case 4:t.stopAnimation();case 5:case"end":return o.stop()}}))}}},{key:"showInitialAnimation",value:function(){var e,t,n,r,i,a,o,c,u,s,l,f,m,h,p,w,b,v,x=this;return k.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e=this.columns,t=this.rows,n=this.grid,r=this.isMobile,i=1,a=r?15:10,o=Math.floor(e/2),c=Math.floor(t/2),u=n[c][o],s=this.getCell(u),l="\u270b",f=Y({columns:e,rows:t}),d.next=4,k.a.awrap(F(f,a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=x.getCell(i);u===i?s.model=new ne(l):a.model=new ne($(["snow","happy","santa","gift","family","beer","coffee","cup tea","glass wine","celebration","orange fruit"]))}))})));case 4:return d.next=6,k.a.awrap(G(300));case 6:if(m=function(r){var s;return k.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return s=J({columns:e,rows:t,cell:{column:o,row:c},vectors:r,minColumn:i,minRow:i,maxColumn:e-i,maxRow:t-i}),l.next=3,k.a.awrap(F(s,2.5*a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=x.getCell(i);u!==i&&(a.model=new te)}))})));case 3:case"end":return l.stop()}}))},d.t0=!r,!d.t0){d.next=11;break}return d.next=11,k.a.awrap(m([{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}]));case 11:return d.next=13,k.a.awrap(m([{x:-1,y:1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:1},{x:0,y:1}]));case 13:return s.model=new re(l),h=performance.now(),p=parseInt(g.a.helloAnimationTime),d.next=18,k.a.awrap(G(.9*p));case 18:return w={columns:e,rows:t,cell:{column:o,row:this.rows-1},vectors:[{x:0,y:-1},{x:1,y:0},{x:-1,y:0}]},b=J(w),d.next=21,k.a.awrap(F(b,20,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t];x.getCell(i).model=new te}))})));case 21:if(!((v=p-(performance.now()-h))>0)){d.next=25;break}return d.next=25,k.a.awrap(G(v));case 25:s.model=new te,this.initialAnimationWasShown=!0;case 27:case"end":return d.stop()}}),null,this)}},{key:"getCell",value:function(e){return this.cells.get(e)}},{key:"square",get:function(){return this.columns*this.rows}}]),e}(),a=Object(M.a)(i.prototype,"columns",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=Object(M.a)(i.prototype,"rows",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=Object(M.a)(i.prototype,"viewportSize",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D()}}),u=Object(M.a)(i.prototype,"isMobile",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=Object(M.a)(i.prototype,"view",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.initial}}),l=Object(M.a)(i.prototype,"grid",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=Object(M.a)(i.prototype,"cells",[I.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(M.a)(i.prototype,"initGrid",[I.d],Object.getOwnPropertyDescriptor(i.prototype,"initGrid"),i.prototype),Object(M.a)(i.prototype,"square",[I.e],Object.getOwnPropertyDescriptor(i.prototype,"square"),i.prototype),Object(M.a)(i.prototype,"getCell",[function(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}],Object.getOwnPropertyDescriptor(i.prototype,"getCell"),i.prototype),i),oe=function(){return new ae},ce=p.a.createContext(null),ue=function(e){var t=e.children,n=Object(E.b)(oe);return p.a.createElement(ce.Provider,{value:n},t)},se=function(){var e=p.a.useContext(ce);if(!e)throw new Error("useGrid must be used within a GridProvider.");return e},le=function(e){var t=e.children;return p.a.createElement("div",{className:g.a.cell},t)},fe=Object(E.a)((function(e){var t,n=e.id,r=(0,se().getCell)(n).model;return r instanceof ne&&(t=p.a.createElement(me,r)),r instanceof re&&(t=p.a.createElement(he,r)),r instanceof ie&&(t=p.a.createElement(pe,r)),r instanceof te&&(t=p.a.createElement(p.a.Fragment,null)),p.a.createElement(le,null,t)})),me=function(e){return p.a.createElement("div",{className:y()(g.a.cellEmoji)},e.content)},he=function(e){return p.a.createElement("div",{className:y()(g.a.cellEmoji,g.a.cellHelloEmoji)},e.content)},pe=function(e){return p.a.createElement("div",{className:g.a.cellText},e.content)},we=fe,be=Object(E.a)((function(){var e=se().grid;return p.a.createElement("div",{className:x.a.grid},e.map((function(e,t){return p.a.createElement(ve,{key:t},e.map((function(e,t){return p.a.createElement(xe,{key:t},p.a.createElement(we,{id:e}))})))})))})),ve=function(e){var t=e.children;return p.a.createElement("div",{className:x.a.row},t)},xe=function(e){var t=e.children;return p.a.createElement("div",{className:y()(x.a.col)},t)},de=be,ye=n(24),je=function(e){return function(t){var n=Object(ye.a)({},t);return p.a.createElement(ue,null,p.a.createElement(e,n))}}(de),ge=function(){return p.a.createElement(je,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.render(p.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports={helloAnimationTime:"1200",cell:"Cell_cell__2Y63x",cellEmoji:"Cell_cellEmoji__210BA",cellHelloEmoji:"Cell_cellHelloEmoji__Khd3i","hello-animation":"Cell_hello-animation__zIPad",cellMenu:"Cell_cellMenu__2IVHi"}},8:function(e,t,n){e.exports={minCellSize:"40px",maxCellSize:"100px",grid:"Grid_grid__24j1p",row:"Grid_row__2rajf",col:"Grid_col__1SX7O"}}},[[28,1,2]]]);
//# sourceMappingURL=main.934c1558.chunk.js.map