(this.webpackJsonpsquares=this.webpackJsonpsquares||[]).push([[0],{28:function(e,t,n){e.exports=n(41)},33:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r,i,a,o,c,u,s,l,f,m,p,h=n(0),w=n.n(h),b=n(13),v=n.n(b),d=(n(33),n(9)),y=n.n(d),x=n(14),j=n.n(x),O=n(7),g=n.n(O),k=n(12),E=n(3),C=n.n(E),_=n(6),A=n(5),P=n(15),W=n(4),M=(n(36),n(2)),z=n(23),R=n(8),q=n(17),S=(n(22),n(16)),I=n(10),G=y.a.minCellSize,H=parseInt(G),D=function(e){return new Promise((function(t){setTimeout(t,e)}))},N=function(){var e=window,t=e.innerHeight;return{viewportWidth:e.innerWidth,viewportHeight:t}},L=function(){var e=N();return e.viewportWidth>e.viewportHeight},T=function(){var e=B(),t=e.minColumns,n=e.minRows,r=N(),i=r.viewportHeight;return r.viewportWidth<=H*t||i<=H*n},B=function(){return{minColumns:12,minRows:11}},X=function(){return T()?function(){var e=L();return{minColumns:e?8:7,minRows:e?7:8}}():B()},Y=function(e){var t=e.viewportWidth,n=e.viewportHeight,r=X(),i=r.minColumns,a=r.minRows,o=Math.min(n/a,t/i);o<H&&(o=H);var c=Math.round(t/o),u=Math.round(n/o);return c>=25?c=25:c<=i?c=i:c%2||c++,u>=25?u=25:u<=a?u=a:u%2||u--,{columns:c,rows:u}},J=function(e){var t=e.columns,n=e.rows;return Object(R.a)({},Symbol.asyncIterator,Object(S.a)(C.a.mark((function e(){var r,i,a,o,c,u,s,l,f,m,p,h,w;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=-1,i=0,a=0,o=0,c=t,u=n,s={x:1,y:0},l=function(){return s.x},f=function(){return s.y},m=function e(){var t=r+l(),n=i+f();if(0===f()){if(a===c)return null;if(t>=c)return s={x:0,y:1},o++,e();if(t<a)return s={x:0,y:-1},u--,e()}if(0===l()){if(o===u)return null;if(n>=u)return s={x:-1,y:0},c--,e();if(n<o)return s={x:1,y:0},a++,e()}return{nextX:t,nextY:n}};case 2:if(p=m()){e.next=6;break}return e.abrupt("break",13);case 6:return h=p.nextX,w=p.nextY,r=h,i=w,e.next=11,[{column:r,row:i}];case 11:e.next=2;break;case 13:case"end":return e.stop()}}),e)}))))},F=function(e){var t=e.columns,n=e.rows,r=e.cell,i=e.vectors,a=e.minColumn,o=e.minRow,c=e.maxColumn,u=e.maxRow;return Object(R.a)({},Symbol.asyncIterator,Object(S.a)(C.a.mark((function e(){var s,l,f,m,p,h,w,b,v;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=[r],l=a||0,f=c?c-1:t-1,m=o||0,p=u?u-1:n-1,h=Object(I.uniqWith)(i.filter((function(e){return!(e.x===e.y&&0===e.x)})),I.isEqual),w=[Object(z.a)({},r)],b=function(){var e=[];h.forEach((function(t){s.forEach((function(n){var i=n.column,a=n.row;if(-1===t.x&&i<=r.column||1===t.x&&i>=r.column||-1===t.y&&a<=r.row||1===t.y&&a>=r.row){var o={column:i+t.x,row:a+t.y};if(w.find((function(e){var t=e.column,n=e.row;return t===o.column&&n===o.row})))return;w.push(o),e.push(o)}}))}));var t=Object(I.uniqWith)(e.filter((function(e){var t=e.column,n=e.row;return t>=l&&n>=m&&t<=f&&n<=p})),I.isEqual);return t.length?t:null},e.next=4,[Object(z.a)({},r)];case 4:if(v=b()){e.next=8;break}return e.abrupt("break",13);case 8:return e.next=10,v;case 10:s=v,e.next=4;break;case 13:case"end":return e.stop()}}),e)}))))},K=function(e,t,n){var r,i,a,o,c,u;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:r=!0,i=!1,s.prev=2,o=Object(q.a)(e);case 4:return s.next=6,C.a.awrap(o.next());case 6:return c=s.sent,r=c.done,s.next=10,C.a.awrap(c.value);case 10:if(u=s.sent,r){s.next=22;break}if(!n(u)){s.next=16;break}return s.abrupt("break",22);case 16:if(!(t>0)){s.next=19;break}return s.next=19,C.a.awrap(D(t));case 19:r=!0,s.next=4;break;case 22:s.next=28;break;case 24:s.prev=24,s.t0=s.catch(2),i=!0,a=s.t0;case 28:if(s.prev=28,s.prev=29,r||null==o.return){s.next=33;break}return s.next=33,C.a.awrap(o.return());case 33:if(s.prev=33,!i){s.next=36;break}throw a;case 36:return s.finish(33);case 37:return s.finish(28);case 38:case"end":return s.stop()}}),null,null,[[2,24,28,38],[29,,33,37]])},U=function(e){return e[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t-.5+Math.random()*(e-t+1);return Math.round(n)}(e.length-1)]},V=n(27),$=function(){var e=new Map,t=function(t){var n=e.get(t);if(n)return n;var r=V.a.search(t).map((function(e){return e.native}));return e.set(t,r),r};return function(e){return U(e.map(t).flat())}}(),Q=n(20),Z=n(19),ee=n(21),te=function e(){Object(A.a)(this,e),this.isEmpty=!0},ne=function e(t){Object(A.a)(this,e),this.content=t,this.isEmoji=!0},re=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=Object(Q.a)(this,(e=Object(Z.a)(t)).call.apply(e,[this].concat(i)))).isHello=!0,n}return Object(ee.a)(t,e),t}(ne),ie=function e(t){Object(A.a)(this,e),this.content=t,this.isText=!0};!function(e){e[e.initial=0]="initial",e[e.application=1]="application",e[e.snake=2]="snake"}(p||(p={}));var ae=(r=M.l.struct,i=function(){function e(){var t=this;Object(A.a)(this,e),Object(_.a)(this,"columns",a,this),Object(_.a)(this,"rows",o,this),Object(_.a)(this,"viewportSize",c,this),Object(_.a)(this,"isMobile",u,this),Object(_.a)(this,"isPortrait",s,this),Object(_.a)(this,"view",l,this),Object(_.a)(this,"grid",f,this),Object(_.a)(this,"cells",m,this),this.initialAnimationWasShown=!1,this.isAnimationRun=!1,this.initWasRequested=!1,this.init(),this.showInitialAnimation=this.withAnimationDecorator(this.showInitialAnimation),window.addEventListener("resize",Object(I.debounce)((function(){t.viewportSize=N()}),500)),Object(M.m)((function(){return t.viewportSize}),(function(){t.isMobile=T(),t.isPortrait=L(),t.init()}))}return Object(P.a)(e,[{key:"menuPosition",get:function(){return function(e){var t=e.columns,n=e.rows,r=e.isMobile,i=e.isPortrait;return!r||r&&!i?{column:t-1,row:1,vector:{x:0,y:1}}:{column:1,row:n-1,vector:{x:1,y:0}}}({columns:this.columns,rows:this.rows,isMobile:this.isMobile,isPortrait:this.isPortrait})}},{key:"pageLeftCornerPosition",get:function(){return{column:0,row:0}}}]),Object(P.a)(e,[{key:"initGrid",value:function(){var e=[];this.cells.clear();for(var t=0;t<this.rows;t++){e.push([]);for(var n=0;n<this.columns;n++){var r="".concat(t,"-").concat(n);e[t].push(r),this.cells.set(r,{model:new te})}}this.grid=e}},{key:"init",value:function(){var e,t,n;return C.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.isAnimationRun){r.next=3;break}return this.initWasRequested=!0,r.abrupt("return");case 3:if(e=Y(this.viewportSize),t=e.columns,n=e.rows,this.columns=t,this.rows=n,this.initGrid(),this.initialAnimationWasShown){r.next=11;break}return r.next=10,C.a.awrap(D(1e3));case 10:this.showInitialAnimation();case 11:case"end":return r.stop()}}),null,this)}},{key:"startAnimation",value:function(){this.isAnimationRun=!0}},{key:"stopAnimation",value:function(){this.isAnimationRun=!1,this.initWasRequested&&this.init(),this.initWasRequested=!1}},{key:"withAnimationDecorator",value:function(e){var t=this;return function(){var n,r,i,a=arguments;return C.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(t.startAnimation(),n=a.length,r=new Array(n),i=0;i<n;i++)r[i]=a[i];return o.next=4,C.a.awrap(e.apply(t,r));case 4:t.stopAnimation();case 5:case"end":return o.stop()}}))}}},{key:"showInitialAnimation",value:function(){var e,t,n,r,i,a,o,c,u,s,l,f,m,p,h,w,b,v,d=this;return C.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:return e=this.columns,t=this.rows,n=this.grid,r=this.isMobile,i=1,a=r?15:10,o=Math.floor(e/2),c=Math.floor(t/2),u=n[c][o],s=this.getCell(u),l="\u270b",f=J({columns:e,rows:t}),y.next=4,C.a.awrap(K(f,a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=d.getCell(i);u===i?s.model=new ne(l):a.model=new ne($(["snow","happy","santa","gift","family","beer","coffee","cup tea","glass wine","celebration","orange fruit"]))}))})));case 4:return y.next=6,C.a.awrap(D(300));case 6:if(m=function(r){var s;return C.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return s=F({columns:e,rows:t,cell:{column:o,row:c},vectors:r,minColumn:i,minRow:i,maxColumn:e-i,maxRow:t-i}),l.next=3,C.a.awrap(K(s,2.5*a,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t],a=d.getCell(i);u!==i&&(a.model=new te)}))})));case 3:case"end":return l.stop()}}))},y.t0=!r,!y.t0){y.next=11;break}return y.next=11,C.a.awrap(m([{x:1,y:1},{x:1,y:-1},{x:-1,y:1},{x:-1,y:-1}]));case 11:return y.next=13,C.a.awrap(m([{x:-1,y:1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:1},{x:0,y:1}]));case 13:return s.model=new re(l),p=performance.now(),h=parseInt(g.a.helloAnimationTime),y.next=18,C.a.awrap(D(.9*h));case 18:return w={columns:e,rows:t,cell:{column:o,row:this.rows-1},vectors:[{x:0,y:-1},{x:1,y:0},{x:-1,y:0}]},b=F(w),y.next=21,C.a.awrap(K(b,20,(function(e){e.forEach((function(e){var t=e.column,r=e.row,i=n[r][t];d.getCell(i).model=new te}))})));case 21:if(!((v=h-(performance.now()-p))>0)){y.next=25;break}return y.next=25,C.a.awrap(D(v));case 25:s.model=new te,this.initialAnimationWasShown=!0;case 27:case"end":return y.stop()}}),null,this)}},{key:"getCell",value:function(e){return this.cells.get(e)}},{key:"square",get:function(){return this.columns*this.rows}}]),e}(),a=Object(W.a)(i.prototype,"columns",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=Object(W.a)(i.prototype,"rows",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=Object(W.a)(i.prototype,"viewportSize",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N()}}),u=Object(W.a)(i.prototype,"isMobile",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T()}}),s=Object(W.a)(i.prototype,"isPortrait",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L()}}),l=Object(W.a)(i.prototype,"view",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.initial}}),f=Object(W.a)(i.prototype,"grid",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=Object(W.a)(i.prototype,"cells",[M.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Object(W.a)(i.prototype,"menuPosition",[M.e],Object.getOwnPropertyDescriptor(i.prototype,"menuPosition"),i.prototype),Object(W.a)(i.prototype,"pageLeftCornerPosition",[M.e],Object.getOwnPropertyDescriptor(i.prototype,"pageLeftCornerPosition"),i.prototype),Object(W.a)(i.prototype,"initGrid",[M.d],Object.getOwnPropertyDescriptor(i.prototype,"initGrid"),i.prototype),Object(W.a)(i.prototype,"square",[M.e],Object.getOwnPropertyDescriptor(i.prototype,"square"),i.prototype),Object(W.a)(i.prototype,"getCell",[function(e,t,n){return{configurable:!0,get:function(){var e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}],Object.getOwnPropertyDescriptor(i.prototype,"getCell"),i.prototype),i),oe=function(){return new ae},ce=w.a.createContext(null),ue=function(e){var t=e.children,n=Object(k.b)(oe);return w.a.createElement(ce.Provider,{value:n},t)},se=function(){var e=w.a.useContext(ce);if(!e)throw new Error("useGrid must be used within a GridProvider.");return e},le=function(e){var t=e.children;return w.a.createElement("div",{className:g.a.cell},t)},fe=Object(k.a)((function(e){var t,n=e.id,r=(0,se().getCell)(n).model;return r instanceof ne&&(t=w.a.createElement(me,r)),r instanceof re&&(t=w.a.createElement(pe,r)),r instanceof ie&&(t=w.a.createElement(he,r)),r instanceof te&&(t=w.a.createElement(w.a.Fragment,null)),w.a.createElement(le,null,t)})),me=function(e){return w.a.createElement("div",{className:j()(g.a.cellEmoji)},e.content)},pe=function(e){return w.a.createElement("div",{className:j()(g.a.cellEmoji,g.a.cellHelloEmoji)},e.content)},he=function(e){return w.a.createElement("div",{className:g.a.cellText},e.content)},we=fe,be=function(e,t,n){return function(r){function i(e){var t;Object(A.a)(this,i);var r=(t=Object(Q.a)(this,Object(Z.a)(i).call(this,e))).element;return r&&r.classList.add(n),t}return Object(ee.a)(i,r),Object(P.a)(i,[{key:"componentWillUnmount",value:function(){var e=this.element;e&&e.classList.remove(n)}},{key:"render",value:function(){return w.a.createElement(e,this.props)}},{key:"element",get:function(){return document.querySelector(t)||null}}]),i}(w.a.Component)},ve=Object(k.a)((function(){var e=se().grid;return w.a.createElement("div",{className:y.a.grid},e.map((function(e,t){return w.a.createElement(de,{key:t},e.map((function(e,t){return w.a.createElement(ye,{key:t},w.a.createElement(we,{id:e}))})))})))})),de=function(e){var t=e.children;return w.a.createElement("div",{className:y.a.row},t)},ye=function(e){var t=e.children;return w.a.createElement("div",{className:j()(y.a.col)},t)},xe=be(ve,"html",y.a.gridWrapper),je=n(26),Oe=function(e){return function(t){var n=Object(je.a)({},t);return w.a.createElement(ue,null,w.a.createElement(e,n))}}(xe),ge=function(){return w.a.createElement(Oe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));v.a.render(w.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports={helloAnimationTime:"1200",cell:"Cell_cell__2Y63x",cellEmoji:"Cell_cellEmoji__210BA",cellHelloEmoji:"Cell_cellHelloEmoji__Khd3i","hello-animation":"Cell_hello-animation__zIPad",cellMenu:"Cell_cellMenu__2IVHi"}},9:function(e,t,n){e.exports={minCellSize:"40px",gridWrapper:"Grid_gridWrapper__Rwaf7",grid:"Grid_grid__24j1p",row:"Grid_row__2rajf",col:"Grid_col__1SX7O"}}},[[28,1,2]]]);
//# sourceMappingURL=main.e5ff28c5.chunk.js.map